@model IEnumerable<QLTapChi.Models.TapChiBaiViet>

@{
    ViewBag.Title = "Phản biện bài viết";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<style>
    body {
        background-color: #f4f6f9;
        font-family: 'Arial', sans-serif;
    }

    .navbar {
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .container-main {
        margin-top: 30px;
    }

    .journal-card {
        background-color: #fff;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
    }

    .gap-2 {
        gap: 10px;
    }
</style>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Hệ thống Phản biện</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="@Url.Action("PhanBien", "PhanBien")">Bài chờ phản biện</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="@Url.Action("DanhSachDaChapNhan", "PhanBien")">Hàng chờ tải/nộp</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </nav>
    <div class="container container-main">
        <h2 class="mb-4">Danh sách Tạp chí chờ Phản biện</h2>

        <div class="row">
            @foreach (var item in Model)
            {
                if (item.TrangThaiPhanBien == 0) // Chỉ hiển thị bài cần phản biện
                {
                    <div class="col-lg-12 mb-3">
                        <div class="journal-card p-3 shadow rounded border bg-white">
                            <h4 class="journal-title">Tạp chí: @item.TieuDe</h4>
                            <p><strong>Tác giả:</strong> @item.TacGia</p>
                            <p><strong>Tóm tắt:</strong> @item.NoiDung</p>
                            <p><strong>Ngày gửi:</strong> @item.NgayGui.ToString("dd/MM/yyyy")</p>
                            <div class="d-flex gap-2">
                                @using (Html.BeginForm("ChapNhanPhanBien", "PhanBien", FormMethod.Post))
                                {
                                    @Html.Hidden("id", item.IDTapChiBaiViet)
                                    <button type="submit" class="btn btn-success">Chấp nhận</button>
                                }
                                @using (Html.BeginForm("TuChoiPhanBien", "PhanBien", FormMethod.Post))
                                {
                                    @Html.Hidden("id", item.IDTapChiBaiViet)
                                    <button type="submit" class="btn btn-danger">Không</button>
                                }
                            </div>
                        </div>
                    </div>
                }
            }
        </div>
    </div>
